} else if (Y[k]==0 & Z[k,i,j]<=0){
S <- F
}
}
}
}
}
remover <- seq(1,burn)
return(Beta[,-remover,])
}
Testabu <- gibbsy(200,1000,X,Y)
for(i in 1:4){
mean(Testabu[i,,])
quantile(Testabu[i,,],probs = c(0.025,0.975))
}
for(i in 1:4){
print(mean(Testabu[i,,]))
print(quantile(Testabu[i,,],probs = c(0.025,0.975)))
}
ConvStats <- function(x){
L <- max(dim(x))
m <- min(dim(x))
B <- (L/(m-1))*sum((apply(x,2,mean)-mean(x))^2)
W <- (1/m)*sum(apply(x,2,var))
var.psi <- ((L-1)/L)*W+(1/L)*B
Rhat <- sqrt(var.psi/W)
neff <- min(m*L*var.psi/B,m*L)
tmp <- as.numeric(x)
lag1cor <- cor(tmp[-1],tmp[-length(tmp)])
dimx <- 1:2
acceptance.rate <- mean(apply(x,dimx[min(dim(x))==m],
function(x){1-(sum(diff(x)==0)/length(x))}))
return(list(Rhat=Rhat,neff=neff,lag1cor=lag1cor,acceptance.rate=acceptance.rate))
}
for (i in 1:4) {
print(ConvStats(Testabu[i,,]))
}
for(i in 1:4){
print(mean(Testabu[i,,]))
print(quantile(Testabu[i,,],probs = c(0.025,0.975)))
}
library(dbplyr)
library(dplyr)
library(RMySQL)
library(tidyr)
library(MASS)
twDb<-src_mysql("tw_quizdb", host = "127.0.0.1", port = 3306, user = "gunnar", password = "catniss")
answer <- tbl(twDb, "answer")
lecture<-tbl(twDb,"lecture")
host<-tbl(twDb,"host")
coinAward<-tbl(twDb,"coinAward")
lectureGlobalSetting<-tbl(twDb,"lectureGlobalSetting")
lectureQuestions<-tbl(twDb,"lectureQuestions")
lectureSetting<-tbl(twDb,"lectureSetting")
lectureStudentSetting<-tbl(twDb,"lectureStudentSetting")
subscription<-as.data.frame(tbl(twDb,"subscription"))
install.packages("RMySQL")
library(RMySQL)
install.packages(c("dbplyr", "dplyr", "RMySQL", "tidyr"))
library(dbplyr)
library(dplyr)
library(RMySQL)
library(tidyr)
library(MASS)
twDb<-src_mysql("tw_quizdb", host = "127.0.0.1", port = 3306, user = "gunnar", password = "catniss")
twDb<-src_mysql("tw_quizdb", host = "127.0.0.1", port = 3306, user = "gunnar", password = "catniss")
library(dbplyr)
library(dplyr)
library(RMySQL)
library(tidyr)
library(MASS)
twDb<-src_mysql("tw_quizdb", host = "127.0.0.1", port = 3306, user = "gunnar", password = "catniss")
twDb<-src_mysql("tw_quizdb", host = "127.0.0.1", port = 3306, user = "gss24", password = "JuwofKWT2Ewc")
answer <- tbl(twDb, "answer")
lecture<-tbl(twDb,"lecture")
host<-tbl(twDb,"host")
coinAward<-tbl(twDb,"coinAward")
lectureGlobalSetting<-tbl(twDb,"lectureGlobalSetting")
lectureQuestions<-tbl(twDb,"lectureQuestions")
lectureSetting<-tbl(twDb,"lectureSetting")
lectureStudentSetting<-tbl(twDb,"lectureStudentSetting")
subscription<-as.data.frame(tbl(twDb,"subscription"))
View(answer)
head(answer)
glimpse(answer)
names(answer)
summary(answer)
summary(answer$studentId)
summary(answer$correct)
nemandi13 <- dat%>%filter(studentId%in%c(13))
nemandi13 <- answer%>%filter(studentId%in%c(13))
glimpse(nemandi13)
nemandi13 <- as.data.frame(nemandi13)
summary(nemandi13)
View(nemandi13)
nemandi13 <- nemandi13 %>% group_by(lectureId)
summary(nemandi13)
nemandi13 %:% summarize('einkunn'=mean(grade,na.rm = T)) %>% head()
nemandi13 %>% summarize('einkunn'=mean(grade,na.rm = T)) %>% head()
nemandi13 %>% summarize('einkunn'=mean(correct,na.rm = T)) %>% head()
#aðeins vinnsla á nemandann til að skoða
summary(nemandi13)
View(nemandi13)
help('head')
nemandi13 %>% summarize('einkunn'=mean(correct,na.rm = T))
help('summarize')
nemandi13 %>% summarize('einkunn'=mean(correct,na.rm = T), 'fjoldi'=n())
dat <- nemandi13 %>% summarize('einkunn'=mean(correct,na.rm = T), 'fjoldi'=n())
View(dat)
nemandi13 %>% group_by(questionId) %>% summarise('fjoldi'=n()) %>% view()
nemandi13 %>% group_by(questionId) %>% summarise('fjoldi'=n()) %>% View()
nemandi13 %>% group_by(lectureId, questionId) %>% summarise('fjoldi'=n()) %>% View()
#skoða einn nemanda í einu, til að fá tilfinningu
nemandi13 <- answer%>%filter(studentId%in%c(15))
glimpse(nemandi13)
glimpse(nemandi13)
#les inn öll gögninn, nota mestalagi bara answer gagnasafnið
twDb<-src_mysql("tw_quizdb", host = "127.0.0.1", port = 3306, user = "gss24", password = "JuwofKWT2Ewc")
answer <- tbl(twDb, "answer")
#skoða einn nemanda í einu, til að fá tilfinningu
nemandi13 <- answer%>%filter(studentId%in%c(15))
glimpse(nemandi13)
nemandi13 <- as.data.frame(nemandi13)
nemandi13 <- nemandi13 %>% group_by(lectureId)
nemandi13 %>% group_by(lectureId, questionId) %>% summarise('fjoldi'=n()) %>% View()
#aðeins vinnsla á nemandann til að skoða
summary(nemandi13)
glimpse(lectureQuestions)
# lecture<-tbl(twDb,"lecture")
# host<-tbl(twDb,"host")
# coinAward<-tbl(twDb,"coinAward")
# lectureGlobalSetting<-tbl(twDb,"lectureGlobalSetting")
lectureQuestions<-tbl(twDb,"lectureQuestions")
glimpse(lectureQuestions)
host<-tbl(twDb,"host")
lecture<-tbl(twDb,"lecture")
glimpse(lecture)
glimpse(host)
# lecture<-tbl(twDb,"lecture") #inniheldur hvada lecture er hvar og version
# host<-tbl(twDb,"host") #inniheldur hvada host er hvad
coinAward<-tbl(twDb,"coinAward")
lectureGlobalSetting<-tbl(twDb,"lectureGlobalSetting")
glimpse(coinAward)
glimpse(lectureGlobalSetting)
lectureSetting<-tbl(twDb,"lectureSetting")
lectureStudentSetting<-tbl(twDb,"lectureStudentSetting")
glimpse(lectureStudentSetting)
glimpse(lectureSetting)
glimpse(lectureQuestions)
# lecture<-tbl(twDb,"lecture") #inniheldur hvada lecture er hvar og version
# host<-tbl(twDb,"host") #inniheldur hvada host er hvad
# coinAward<-tbl(twDb,"coinAward") #segir til hvenar og hve mikid folk faer coins
# lectureGlobalSetting<-tbl(twDb,"lectureGlobalSetting") #einhverjar stillingar
# lectureQuestions<-tbl(twDb,"lectureQuestions") #numer spurningu og numer svars
# lectureSetting<-tbl(twDb,"lectureSetting") # hlutir fyrir nemendur i lectures
# lectureStudentSetting<-tbl(twDb,"lectureStudentSetting") #hvenar buid til og liklar
# subscription<-as.data.frame(tbl(twDb,"subscription"))
#skoðumm aðeins gögninn
glimpse(answer)
nemandi13 %>% group_by(lectureId, answerId) %>% summarise('fjoldirett'=mean(correct), 'fjoldi'=n()) %>% View()
nemandi13 %>% group_by(answerId) %>% summarise('fjoldirett'=mean(correct), 'fjoldi'=n()) %>% View()
#aðeins vinnsla á nemandann til að skoða
summary(nemandi13)
glimpse(nemandi13)
#breytum dagsetningunum frá chr yfir í date
nemandi13$timeStart <- nemandi13$timeStart %>% as.Date("%Y/%m/%d %H:%M:%S")
#aðeins vinnsla á nemandann til að skoða
summary(nemandi13)
glimpse(nemandi13)
#skoða einn nemanda í einu, til að fá tilfinningu
nemandi13 <- answer%>%filter(studentId%in%c(15))
nemandi13 <- as.data.frame(nemandi13)
glimpse(nemandi13)
#breytum dagsetningunum frá chr yfir í date
nemandi13$timeStart <- nemandi13$timeStart %>% as.Date("%Y-%m-%d %H:%M:%S")
glimpse(nemandi13)
nemandi13$timeEnd <- nemandi13$timeEnd %>% as.Date("%Y-%m-%d %H:%M:%S")
glimpse(nemandi13)
View(nemandi13)
nemandi13$timeEnd[2]
#skoða einn nemanda í einu, til að fá tilfinningu
nemandi13 <- answer%>%filter(studentId%in%c(15))
nemandi13 <- as.data.frame(nemandi13)
#breytum dagsetningunum frá chr yfir í date
nemandi13$timeStart <- nemandi13$timeStart %>% strptime("%Y-%m-%d %H:%M:%S")
nemandi13$timeEnd <- nemandi13$timeEnd %>% strptime("%Y-%m-%d %H:%M:%S")
glimpse(nemandi13)
nemandi13 %>% group_by(timeStart) %>% summarise("fjoldi"=n()) %>% View()
answer %>% summarise("count"=n())
View(nemandi13)
nemandi13 %>% group_by(answerId) %>% summarise('count'=n()) %>% filter(count>1) %>%View()
answer %>% group_by(answerId) %>% summarise('count'=n()) %>% filter(count>1) %>%View()
answer %>% group_by(answerId) %>% summarise('count'=n()) %>% head()  #filter(count>1) %>%View()
answer %>% group_by(answerId) %>% summarise('count'=n()) %>% filter(count>1) %>%head()
answer %>% group_by(answerId) %>% summarise('count'=n()) %>% filter(count>1) %>%summarise('count'=n())
#skoða einn nemanda í einu, til að fá tilfinningu
nemandi13 <- answer%>%filter(studentId%in%c(15))
View(nemandi13)
nemandi13 <- as.data.frame(nemandi13)
View(nemandi13)
library(dbplyr)
library(dplyr)
library(RMySQL)
library(tidyr)
library(MASS)
#les inn öll gögninn, nota mestalagi bara answer gagnasafnið
twDb<-src_mysql("tw_quizdb", host = "127.0.0.1", port = 3306, user = "gss24", password = "JuwofKWT2Ewc")
answer <- tbl(twDb, "answer")
#skoða einn nemanda í einu, til að fá tilfinningu
nemandi13 <- answer%>%filter(studentId%in%c(15))
nemandi13 <- as.data.frame(nemandi13)
answer$answerId[3]
answer$answerId[15]
answer$correct[2]
answer$correct[512]
#prufa ad tengja hve oft spurning kemur vid nemandan
Fjoldispurninga <- nemandi13 %>% group_by(questionId) %>% summarise('fjoldi'=n())
nemandimedsvor <- full_join(nemandi13,Fjoldispurninga)
nemstytt <- nemandimedsvor %>% subset(select= -c(practice,coinsAwarded,ugQuestionGuid,lectureVersion))
summary(nemandimedsvor)
View(nemandi13)
#prufa ad tengja hve oft spurning kemur vid nemandan
minstadagsetning <- nemandi13 %>% group_by(questionId) %>% summarise('mindag'=min(timeStart))
nemandimeddag <- full_join(nemandi13,minstadagsetning)
nemstytt <-nemandimeddag %>% subset(select= -c(practice,coinsAwarded,ugQuestionGuid,lectureVersion))
prufa <- ifelse(nemstytt$timeStart== nemstytt$mindag,0,1)
max(prufa)
nemstytt$hefsedtheddaAdur <- ifelse(nemstytt$timeStart== nemstytt$mindag,0,1)
nemstytt$fjoldiSvaraFramAdThessu <-
help(ave)
help(ave)
help("seq_along")
nemstytt$fjoldiSvaraFramAdThessu <- nemstytt %>% with(ave(timeStart,timeStart,lectureId,FUN = seq_along)
^z
end
nemstytt$fjoldiSvaraFramAdThessu <- nemstytt %>% with(ave(timeStart,timeStart,lectureId,FUN = seq_along))
View(nemstytt)
nemstytt$fjoldiSvaraFramAdThessu <- nemstytt %>% with(ave(1,timeStart,lectureId,FUN = seq_along))
nemstytt$fjoldiSvaraFramAdThessu <- nemstytt %>% with(ave(timeStart,1,lectureId,FUN = seq_along))
View(nemstytt)
help("tbl")
nemstytt$fjoldiSvaraFramAdThessu <- nemstytt %>% with(ave(timeStart,1,c(lectureId,questionId),FUN = seq_along))
nemstytt$fjoldiSvaraFramAdThessu <- nemstytt %>% with(ave(timeStart,1,lectureId,questionId,FUN = seq_along))
View(nemstytt)
#les inn öll gögninn, nota mestalagi bara answer gagnasafnið
twDb<-src_mysql("tw_quizdb", host = "127.0.0.1", port = 3306, user = "gss24", password = "JuwofKWT2Ewc")
answer <- tbl(twDb, "answer")
fyrirL5 <- answer %>% filter(lectureId%in%c(5))
fyrirL5%>%summarise("n"=n())
fyrirL5 <- as.data.frame(fyrirL5)
View(fyrirL5)
minstadagsetningF <- fyrirL5 %>% group_by(studentId,questionId) %>% summarise('mindag'=min(timeStart))
fyrirmeddag <- full_join(fyrirL5,minstadagsetningF)
fyrirstytt <- fyrirmeddag %>% subset(select =  -c(practice,coinsAwarded,ugQuestionGuid,lectureVersion))
nemstytt$fjoldiSvaraFramAdThessu <- nemstytt %>% with(ave(timeStart,1,lectureId,FUN = seq_along))
fyrirstytt$hefSedTheddaAdur <- ifelse(fyrirstytt$timeStart==fyrirstytt$mindag,0,1)
fyrirstytt$fjoldiSvaraFramAdThessu <- fyrirstytt %>% with(ave(timeStart,1,lectureId,FUN = seq_along))
fyrirstytt$fjoldiSvaraFramAdThessu <- fyrirstytt %>% with(ave(timeStart,1,lectureId,studentId,FUN = seq_along))
View(fyrirstytt)
#sma prufa með að vinna með gögninn beint
prufann <- answer%>%filter(studentId%in%c(15))
minstadagsetning <- prufann %>% group_by(questionId) %>% summarise('mindag'=min(timeStart))
prufameddag <- full_join(prufann, minstadagsetning)
prufs <- prufameddag%>%subset(select= -c(practice,coinsAwarded,ugQuestionGuid,lectureVersion))
#Skoða einn lecture til að fá tilfinningu
fyrirL5 <- answer %>% filter(lectureId%in%c(5))
fyrirL5 <- as.data.frame(fyrirL5)
View(fyrirL5)
prufs$hedsedAdur <- ifelse(prufs$timeStart==nemstytt$mindag,0,1)
prufameddag$hedsedAdur <- ifelse(prufs$timeStart==nemstytt$mindag,0,1)
prufameddag$hedsedAdur <- ifelse(prufameddag$timeStart==prufameddag$mindag,0,1)
prufameddag$fjoldisvarafram <- prufameddag%>%with(ave(timeStart,1,lectureId,studentId,FUN = seq_along))
View(nemandi13)
#prufa að sækja öll gögninn
nyttans <- answer %>% select(answerId,lectureId,studentId,questionId,chosenAnswer,grade,correct,timeStart,lectureVersion)
#prufa að sækja öll gögninn
answer %>% select(answerId,lectureId,studentId,questionId,chosenAnswer,grade,correct,timeStart,lectureVersion)
answer <- tbl(twDb, "answer")
#prufa að sækja öll gögninn
answer %>% select(answerId,lectureId,studentId,questionId,chosenAnswer,grade,correct,timeStart,lectureVersion)
#prufa að sækja öll gögninn
answer %>% select(answerId,lectureId,studentId,questionId)#,chosenAnswer,grade,correct,timeStart,lectureVersion)
#prufa að sækja öll gögninn
answer %>% select(answerId,lectureId)#,studentId,questionId,chosenAnswer,grade,correct,timeStart,lectureVersion)
#prufa að sækja öll gögninn
answer %>% select(answerId)
#prufa að sækja öll gögninn
dAnswer <- as.data.frame(answer)
write.csv(dAnswer,"C:\Users\gylfi\Desktop\R powaaa\Vinna\spurning 4 verkefni\answer.csv",row.names=False)
write.csv(dAnswer,"C:\Users\gylfi\Desktop\R powaaa\Vinna\spurning 4 verkefni\\answer.csv",row.names=False)
write.csv(dAnswer,"C:\\Users\\gylfi\\Desktop\\R powaaa\\Vinna\\spurning 4 verkefni\\answer.csv",row.names=False)
write.csv(dAnswer,"C:\\Users\\gylfi\\Desktop\\R powaaa\\Vinna\\spurning 4 verkefni\\answer.csv",row.names=FALSE)
setwd("C:/Users/gylfi/Desktop/R powaaa/Vinna/spurning 4 verkefni")
setwd("C:/Users/gylfi/Desktop/R powaaa/Vinna/spurning 4 verkefni")
help("read.csv")
answer <- read.csv("answer.csv")
minstadagsetningA <- answer %>% group_by(questionId,studentId) %>% summarise('mindag'=min(timeStart))
alltmeddag <- full_join(answer,minstadagsetningA)
allsvor <- alltmeddag %>% subset(select =  -c(practice,coinsAwarded,ugQuestionGuid,lectureVersion))
allsvor$hefsedtheddaAdur <- ifelse(allsvor$timeStart==allsvor$mindag,0,1)
allsvor$fjoldiSvaraFramAdThessu <- allsvor %>% with(ave(timeStart,1,lectureId,studentId,FUN = seq_along))
help("barplot")
View(allsvor)
fyrirstytt <- fyrirmeddag %>% subset(select =  -c(practice,coinsAwarded,ugQuestionGuid,lectureVersion))
allsvor <- alltmeddag %>% subset(select =  -c(practice,coinsAwarded,ugQuestionGuid))
allsvor$hefsedtheddaAdur <- ifelse(allsvor$timeStart==allsvor$mindag,0,1)
allsvor$fjoldiSvaraFramAdThessu <- allsvor %>% with(ave(timeStart,1,lectureId,studentId,FUN = seq_along))
answer$lectureVersion %>% min()
help("min")
answer$lectureVersion %>% min(na.rm = TRUE)
answer$lectureVersion %>% max(na.rm = TRUE)
allsvor %>%table(allsvor$lectureVersion,useNA="ifany") %>% barplot(main="skodun fjolda sem NA",width=c(1,71))
allsvor$lectureVersion %>%table(useNA="ifany") %>% barplot(main="skodun fjolda sem NA",width=c(1,71))
allsvor$lectureVersion %>%table(useNA="ifany") %>% barplot(main="skodun fjolda sem NA",las=80)
help("barplot")
allsvor$lectureVersion %>%table(useNA="ifany") %>% barplot(main="skodun fjolda sem NA",width = 72)
install.packages("ggplot2")
library(ggplot2)
help("geom_bar")
help("geom_histogram")
allsvor$lectureVersion %>%table(useNA="ifany") %>% ggplot(aes(x=lectuVersion))+geom_histogram(binwidth = 72)
lec<-allsvor$lectureVersion %>%table(useNA="ifany") %>% as.data.frame()
allsvor$lectureVersion %>%table(useNA="ifany") %>% as.data.frame()
#barplot(main="skodun fjolda sem NA",width = 72)
help("table")
summary(allsvor)
2427025/3293069
cov(allsvor)
#barplot(main="skodun fjolda sem NA",width = 72)
help("cov")
cov(as.data.frame(allsvor$grade,allsvor$fjoldiSvaraFramAdThessu))
cov(as.data.frame(allsvor$grade,allsvor$fjoldiSvaraFramAdThessu),na.rm=T)
cov(as.data.frame(allsvor$grade,allsvor$fjoldiSvaraFramAdThessu),use = "na.or.complete")
cov(as.data.frame(allsvor$correct,allsvor$fjoldiSvaraFramAdThessu),use = "na.or.complete")
cor(allsvor)
help("cor")
cor(allsvor,use = "complete.obs")
forcor <- as.data.frame(cbind(allsvor$chosenAnswer,allsvor$grade,allsvor$correct,allsvor$hefsedtheddaAdur,allsvor$fjoldiSvaraFramAdThessu))
cor(forcor)
forcor <- allsvor %>% subset(select = c(chosenAnswer,grade,correct,hefsedtheddaAdur,fjoldiSvaraFramAdThessu))
cor(forcor)
forcor$fjoldiSvaraFramAdThessu <- forcor$fjoldiSvaraFramAdThessu %>% as.numeric()
cor(forcor)
cor(forcor,na.rm=T)
cor(forcor,use = "na.or.complete")
cov(forcor,use = "na.or.complete")
View(alltmeddag)
rm(alltmeddag,forcor)
#les inn öll gögninn, nota mestalagi bara answer gagnasafnið
twDb<-src_mysql("tw_quizdb", host = "127.0.0.1", port = 3306, user = "gss24", password = "JuwofKWT2Ewc")
question <- tbl(twDb,"question")
glimpse(question)
question %>% summarize("count"=n())
skoda <- answer %>% filter(timeStart>'2020-01-01 01:00:00')
install.packages("rmdformats")
install.packages("hash")
library(hash)
manyAota <- hash("manyAOTAsPois.hash")
manyAota <- read.csv("manyAOTAsPois")
manyAota <- read.csv("manyAOTAsPois.hash")
View(manyAota)
manyAota <- read.csv("manyAOTAsPois.hash",header = FALSE)
View(manyAota)
#les inn gagnasafnið sem var save-að
help("read.csv")
manyAota <- read.csv("manyAOTAsPois.hash",header = FALSE,sep = " ")
View(manyAota)
getwd()
glimpse(question)
question%>%dplyr::select(plonePath,questionId)->miniQ
miniQ<-as.data.frame(miniQ)
grep("Qgen-q2297",miniQ$plonePath)
grep("Qgen-q2297",miniQ$plonePath)
miniQ[grep("Qgen-q2297",miniQ$plonePath),]
grep("Qgen-q2296",miniQ$plonePath)
miniQ[grep("Qgen-q2296",miniQ$plonePath),]
grep("Qgen-q2215",miniQ$plonePath)
miniQ[grep("Qgen-q2215",miniQ$plonePath),]
grep("Qgen-q2100",miniQ$plonePath)
miniQ[grep("Qgen-q2100",miniQ$plonePath),]
#les inn öll gögninn, nota mestalagi bara answer gagnasafnið
twDb<-src_mysql("tw_quizdb", host = "127.0.0.1", port = 3306, user = "gss24", password = "JuwofKWT2Ewc")
library(dbplyr)
library(dplyr)
library(RMySQL)
library(tidyr)
library(MASS)
library(ggplot2)
library(hash)
#les inn öll gögninn, nota mestalagi bara answer gagnasafnið
twDb<-src_mysql("tw_quizdb", host = "127.0.0.1", port = 3306, user = "gss24", password = "JuwofKWT2Ewc")
answer <- tbl(twDb, "answer")
manyAota <- read.csv("manyAOTAsPois.hash",header = FALSE,sep = " ")
manyAota <- read.csv("manyAOTAsPois.hash",header = FALSE,sep = " ")
manyAota <- read.csv("Data/manyAOTAsPois.hash",header = FALSE,sep = " ")
answer %>% summarise("count"=n())
View(manyAota)
View(manyAota)
Hashvinnsla <- read.csv("Data/bighashfile.txt",header = FALSE,sep = " ")
View(Hashvinnsla)
question <- tbl(twDb,"question")
answer <- answer%>% filter(timeStart>'2020-01-01 01:00:00')
answer %>% summarise("count"=n())
glimpse(question)
question%>%dplyr::select(plonePath,questionId)->miniQ
miniQ<-as.data.frame(miniQ)
#les inn öll gögninn, nota mestalagi bara answer gagnasafnið
twDb<-src_mysql("tw_quizdb", host = "127.0.0.1", port = 3306, user = "gss24", password = "JuwofKWT2Ewc")
miniQ<-as.data.frame(miniQ)
answer <- tbl(twDb, "answer")
answer <- answer%>% filter(timeStart>'2020-01-01 01:00:00')
question <- tbl(twDb,"question")
Hashvinnsla <- read.csv("Data/bighashfile.txt",header = FALSE,sep = " ")
glimpse(question)
# Skoða aðeins tengingarnar
question%>%dplyr::select(plonePath,questionId)->miniQ
paste(Hashvinnsla$V1,Hashvinnsla$V2)
glimpse(question)
test <- paste(Hashvinnsla$V1,Hashvinnsla$V2)
paste(Hashvinnsla$V1,Hashvinnsla$V2) %>% gsub(pattern = " ",replacement = "")
glimpse(question)
Hashvinnsla$plonePath <- paste(Hashvinnsla$V1,Hashvinnsla$V2) %>% gsub(pattern = " ",replacement = "")
miniQ<-as.data.frame(miniQ)
test <- full_join(miniQ,Hashvinnsla)
View(test)
test <- right_join(miniQ,Hashvinnsla)
answer <- as.data.frame(answer)
prufa <- right_join(answer,test)
prufa <- prufa %>% select(answerId,lectureId,studentId,questionId,correct,timeStart,V3,V4,V5)
prufa <- prufa %>% select(-answerId,lectureId,studentId,questionId,correct,timeStart,V3,V4,V5)
prufa <- prufa %>% dplyr::select(answerId,lectureId,studentId,questionId,correct,timeStart,V3,V4,V5)
View(prufa)
glimpse(prufa)
summary(prufa)
prufa <- inner_join(answer,test)
prufa <- prufa %>% dplyr::select(answerId,lectureId,studentId,questionId,correct,timeStart,V3,V4,V5)
summary(prufa)
prufa <- inner_join(answer,test)
View(prufa)
View(miniQ)
test %>%dplyr::select(questionId) %>% duplicated() %>% sum
answer %>%dplyr::select(questionId) %>% duplicated() %>% sum
glimpse(question)
prufa %>%dplyr::select(questionId) %>% duplicated() %>% sum
quest <- as.data.frame(question)
test2 <- right_join(miniQ,Hashvinnsla)
View(test2)
test2 <- right_join(quest,Hashvinnsla)
View(test2)
test2 %>%dplyr::select(questionId) %>% duplicated() %>% sum
prufa <- inner_join(answer,test2)
View(prufa)
View(Hashvinnsla)
View(quest)
Hashvinnsla %>%dplyr::select(plonePath) %>% duplicated() %>% sum
Sys.setlocale("LC_ALL", "is_IS.UTF-8")
twDb<-src_mysql("tw_quizdb", host = "127.0.0.1", port = 3306, user = "gss24", password = "JuwofKWT2Ewc")
student<-tbl(twDb,"student")
answer<-tbl(twDb,"answer")
lecture<-tbl(twDb,"lecture")
host<-tbl(twDb,"host")
twDb<-src_mysql("tw_quizdb", host = "127.0.0.1", port = 3306, user = "gss24", password = "JuwofKWT2Ewc")
student<-tbl(twDb,"student")
answer<-tbl(twDb,"answer")
lecture<-tbl(twDb,"lecture")
host<-tbl(twDb,"host")
coinAward<-tbl(twDb,"coinAward")
lectureStudentSetting<-tbl(twDb,"lectureStudentSetting")
lectureStudentSetting%>%group_by(key)%>%summarise(stdev=sd(value,na.rm=T),stdevlog=sd(log2(value),na.rm=T))->stdevs
hashes<-read.csv("/Users/gstefans/Dropbox/education/sumar2020/tw/hash/bighashfile.txt",sep=" ",col.names = c("dir","qName","hash","numQ","notaType"))
pathQ<-unique(paste(hashes$dir,hashes$qName,sep=""))
question%>%filter(plonePath%in%pathQ)->myQuestions
answer%>%filter(timeStart>"2020-01-01 00:01:01")->answerRed
inner_join(answerRed,myQuestions) -> myAnswer
hashes<-read.csv("Data/bighashfile.txt",sep=" ",col.names = c("dir","qName","hash","numQ","notaType"))
pathQ<-unique(paste(hashes$dir,hashes$qName,sep=""))
question%>%filter(plonePath%in%pathQ)->myQuestions
answer%>%filter(timeStart>"2020-01-01 00:01:01")->answerRed
inner_join(answerRed,myQuestions) -> myAnswer
library(Matrix)
library(dbplyr)
library(dplyr)
library(RMySQL)
library(RMySQL)
library(MASS)
twDb<-src_mysql("tw_quizdb", host = "127.0.0.1", port = 3306, user = "gss24", password = "JuwofKWT2Ewc")
student<-tbl(twDb,"student")
answer<-tbl(twDb,"answer")
lecture<-tbl(twDb,"lecture")
host<-tbl(twDb,"host")
coinAward<-tbl(twDb,"coinAward")
lectureStudentSetting<-tbl(twDb,"lectureStudentSetting")
lectureStudentSetting%>%group_by(key)%>%summarise(stdev=sd(value,na.rm=T),stdevlog=sd(log2(value),na.rm=T))->stdevs
hashes<-read.csv("Data/bighashfile.txt",sep=" ",col.names = c("dir","qName","hash","numQ","notaType"))
pathQ<-unique(paste(hashes$dir,hashes$qName,sep=""))
question%>%filter(plonePath%in%pathQ)->myQuestions
question <- tbl(twDb,"question")
question%>%filter(plonePath%in%pathQ)->myQuestions
answer%>%filter(timeStart>"2020-01-01 00:01:01")->answerRed
inner_join(answerRed,myQuestions) -> myAnswer
glimpse(myAnswer)
myAnswer %>% summarise(n())
MyAnswer <- as.data.frame(myAnswer)
View(MyAnswer)
#prufa að joina nokkuð saman
hashes$plonePath <- pathQ
#prufa að joina nokkuð saman
hashes$plonePath <- paste(hashes$dir,hashes$qName,sep="")
View(MyAnswer)
prufa2 <- inner_join(MyAnswer,hashes)
View(prufa2)
question %>% dplyr::select(questionId) %>%duplicated() %>% sum
